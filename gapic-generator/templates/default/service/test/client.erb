<%- assert_locals service -%>
# frozen_string_literal: true

<%= render partial: "shared/license" %>
require "minitest/autorun"

require "gapic/grpc/service_stub"

require "<%= service.proto_service_require %>"
require "<%= service.proto_services_require %>"
require "<%= service.service_require %>"

describe <%= service.client_name_full %> do
  before :all do
    @test_channel = GRPC::Core::Channel.new "localhost:8888", nil, :this_channel_is_insecure
  end

<% service.methods.each do |method| %>
<%= indent render(partial: "service/test/method/#{method.kind}",
                  locals: { method: method }), 2 %>
<% if method != service.methods.last %>

<% end %>
<% end %>
end
