<%- assert_locals gem -%>
<%= render partial: "shared/header" -%>

<%- if gem.google_cloud_short_name -%>
gem "google-cloud-core"
require "google/cloud" unless defined? Google::Cloud.new
require "google/cloud/config"
require "googleauth"

# Set the default configuration
Google::Cloud.configure.add_config! :<%= gem.google_cloud_short_name %> do |config|
  config.add_field! :credentials,  nil, match: [String, Hash, Google::Auth::Credentials]
  config.add_field! :lib_name,     nil, match: String
  config.add_field! :lib_version,  nil, match: String
  config.add_field! :interceptors, nil, match: Array
  config.add_field! :timeout,      nil, match: Numeric
  config.add_field! :metadata,     nil, match: Hash
  config.add_field! :retry_policy, nil, match: [Hash, Proc]
end

<%- end -%>
require "<%= gem.version_require %>"
